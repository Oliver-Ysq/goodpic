(this["webpackJsonpreact-goodpic"]=this["webpackJsonpreact-goodpic"]||[]).push([[9],{324:function(e,t,n){"use strict";n.r(t);var r=n(16),a=n(0),i=n.n(a),l=n(67),u=n(65),c=n(314),o=n(321),d=n(127),s=n(175),m=n(323),g=n(17);function f(){var e=Object(r.a)(["\n  display: flex;\n  flex-direction: row;\n  @media (min-width: 500px) {\n    justify-content: flex-start;\n  }\n  @media (max-width: 500px) {\n    flex-direction: column;\n    justify-content: space-between;\n  }\n"]);return f=function(){return e},e}function p(){var e=Object(r.a)(["\n  @media (max-width: 500px) {\n    margin-bottom: 10px;\n  }\n  @media (min-width: 500px) {\n    margin-left: 10px;\n  }\n"]);return p=function(){return e},e}function h(){var e=Object(r.a)(["\n  font-size: 20px;\n  color: rgb(16, 42, 56);\n  margin: 10px auto;\n"]);return h=function(){return e},e}function b(){var e=Object(r.a)(["\n  @media (max-width: 500px) {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n  }\n"]);return b=function(){return e},e}function x(){var e=Object(r.a)(["\n  max-width: 300px;\n  @media (max-width: 500px) {\n    max-width: 200px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n"]);return x=function(){return e},e}function v(){var e=Object(r.a)(["\n  margin: 10px 0;\n  text-align: center;\n  color: rgb(40, 131, 136);\n  font-weight: bold;\n"]);return v=function(){return e},e}function w(){var e=Object(r.a)(["\n  margin-top: 20px;\n  border: 1px dashed #ccc;\n  padding: 10px 20px;\n  border-radius: 4px;\n"]);return w=function(){return e},e}var E=g.a.div(w()),j=g.a.h2(v()),O=g.a.img(x()),S=g.a.dl(b()),y=g.a.dt(h()),F=g.a.input(p()),U=g.a.dd(f()),k=o.a.Dragger,$=Object(l.a)((function(){var e=Object(u.a)(),t=e.ImageStore,n=e.UserStore,r=Object(a.useRef)(),l=Object(a.useRef)(),o=Object(c.a)((function(){return{width:null,get widthStr(){return o.width?"/w/"+o.width:""},setWidth:function(){this.width=r.current.value},height:null,get heightStr(){return o.height?"/h/"+o.height:""},setHeight:function(){this.height=l.current.value},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+o.widthStr+o.heightStr}}})),g={showUploadList:!1,beforeUpload:function(e){return null===n.currentUser?(d.b.warning("\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20\u54e6\uff01"),!1):/(svg$)|(png$)|(jpeg$)|(jpg$)|(gif$)/gi.test(e.type)?e.size>1048576?(d.b.warning("\u56fe\u7247\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc71M\u54e6"),!1):(t.setFile(e),t.setFilename(e.name),t.upload().then((function(e){window.res=e,console.log("\u4e0a\u4f20\u6210\u529f")})).catch((function(e){return console.log("\u4e0a\u4f20\u5931\u8d25")})),!1):(d.b.warning("\u53ea\u80fd\u4e0a\u4f20png/svg/jpg/gif\u683c\u5f0f\u7684\u6587\u4ef6\u54e6"),!1)}};return i.a.createElement("div",null,i.a.createElement(s.a,{tip:"\u4e0a\u4f20\u4e2d...",spinning:t.isUploading},i.a.createElement(k,g,i.a.createElement("p",{className:"ant-upload-drag-icon"},i.a.createElement(m.a,null)),i.a.createElement("p",{className:"ant-upload-text"},"Click or drag image file to this area to upload"),i.a.createElement("p",{className:"ant-upload-hint"},"Support for /.svg/.png/.jpg/.gif file, and the size is limited in 1MB."))),i.a.createElement("div",null,null!==t.serverFile?i.a.createElement(E,null,i.a.createElement(j,null,"\u4e0a\u4f20\u7ed3\u679c"),i.a.createElement(S,null,i.a.createElement(y,null,"\u7ebf\u4e0a\u5730\u5740"),i.a.createElement("dd",null,i.a.createElement("a",{target:"_blank",rel:"noreferrer",href:t.serverFile.attributes.url.attributes.url},t.serverFile.attributes.url.attributes.url)),i.a.createElement(y,null,"\u56fe\u7247\u9884\u89c8"),i.a.createElement("dd",null,i.a.createElement(O,{src:t.serverFile.attributes.url.attributes.url})),i.a.createElement(y,null,"\u5c3a\u5bf8\u5b9a\u5236"),i.a.createElement(U,null,i.a.createElement(F,{onChange:function(){return o.setWidth()},placeholder:"max width(not necessary)",ref:r}),i.a.createElement(F,{onChange:function(){return o.setHeight()},placeholder:"max height(not necessary)",ref:l})),i.a.createElement("dd",null,i.a.createElement("a",{target:"_blank",rel:"noreferrer",href:o.fullStr},o.fullStr)))):null))}));function z(){var e=Object(r.a)(["\n  background: #ff9999;\n  padding: 10px;\n  margin: 10px 0 30px 0;\n  border-radius: 4px;\n  color: white;\n"]);return z=function(){return e},e}var C=g.a.div(z()),N=Object(l.a)((function(e){return Object(u.a)().UserStore.currentUser?null:i.a.createElement(C,null,e.children)}));function H(){var e=Object(r.a)(["\n    margin-top: 10px;\n"]);return H=function(){return e},e}var J=Object(g.a)($)(H()),M=Object(l.a)((function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(N,null,"\u4f60\u597d\uff0c\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20\u54e6\uff01"),i.a.createElement(J,null))}));t.default=M}}]);
//# sourceMappingURL=9.d5b6ffa0.chunk.js.map